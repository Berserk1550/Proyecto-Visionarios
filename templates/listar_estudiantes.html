<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Estudiantes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/listar_estudiantes.css">
    <script src="../static/js/funciones.js"></script>
</head>
<body>

    <div>
        <svg width="40" height="40" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg" transform="rotate(0 0 0)">
            <path d="M3.57813 12.4981C3.5777 12.6905 3.65086 12.8831 3.79761 13.0299L9.7936 19.0301C10.0864 19.3231 10.5613 19.3233 10.8543 19.0305C11.1473 18.7377 11.1474 18.2629 10.8546 17.9699L6.13418 13.2461L20.3295 13.2461C20.7437 13.2461 21.0795 12.9103 21.0795 12.4961C21.0795 12.0819 20.7437 11.7461 20.3295 11.7461L6.14168 11.7461L10.8546 7.03016C11.1474 6.73718 11.1473 6.2623 10.8543 5.9695C10.5613 5.6767 10.0864 5.67685 9.79362 5.96984L3.84392 11.9233C3.68134 12.0609 3.57812 12.2664 3.57812 12.4961L3.57813 12.4981Z" fill="#000000"/>
        </svg>
    </div>

    <header class="topbar">
        <h1>Listado de Estudiantes</h1>
        {%if rol =="administrador" or rol == "directivo"%}
        <a href="/admin/agregar_estudiante" class="btn-add"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" transform="rotate(0 0 0)">
            <path d="M12.0002 4.875C12.6216 4.875 13.1252 5.37868 13.1252 6V10.8752H18.0007C18.622 10.8752 19.1257 11.3789 19.1257 12.0002C19.1257 12.6216 18.622 13.1252 18.0007 13.1252H13.1252V18.0007C13.1252 18.622 12.6216 19.1257 12.0002 19.1257C11.3789 19.1257 10.8752 18.622 10.8752 18.0007V13.1252H6C5.37868 13.1252 4.875 12.6216 4.875 12.0002C4.875 11.3789 5.37868 10.8752 6 10.8752H10.8752V6C10.8752 5.37868 11.3789 4.875 12.0002 4.875Z" fill="black"/>
            </svg>
        </a>
        {%endif%}
    </header>




    <form action="" id="recoger_busqueda">

        <svg width="28" height="28" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"
            transform="rotate(0 0 0)">
            <path fill-rule="evenodd" clip-rule="evenodd"
            d="M11.25 2.75C6.14154 2.75 2 6.89029 2 11.998C2 17.1056 6.14154 21.2459 11.25 21.2459C13.5335 21.2459 15.6238 20.4187 17.2373 19.0475L20.7182 22.5287C21.011 22.8216 21.4859 22.8217 21.7788 22.5288C22.0717 22.2359 22.0718 21.761 21.7789 21.4681L18.2983 17.9872C19.6714 16.3736 20.5 14.2826 20.5 11.998C20.5 6.89029 16.3585 2.75 11.25 2.75ZM3.5 11.998C3.5 7.71905 6.96962 4.25 11.25 4.25C15.5304 4.25 19 7.71905 19 11.998C19 16.2769 15.5304 19.7459 11.25 19.7459C6.96962 19.7459 3.5 16.2769 3.5 11.998Z"
            fill="#404040" />
        </svg>

        <input type="text" id="barra_busqueda" name="barra_busqueda" placeholder="Documento del estudiante">

    </form>

    <section class="student-list">
        {% for est in estudiantes %}
        <article id="informacion">
            <h2>{{ est[1] }} {{ est[2] }}</h2>
            <p><strong>Documento:</strong> {{ est[0] }}</p>
            <p><strong>Grado:</strong> {{ est[4] }}</p>
            <p><strong>Acudiente:</strong> {{ est[5] }} {{ est[6] }}</p>
            <p><strong>Teléfono acudiente:</strong> {{ est[7] }}</p>

            {%if rol =="administrador" or rol == "directivo"%}
            <div class="actions">
                <a href="/admin/modificar_estudiante/{{ est[0] }}" class="btn btn-edit">Modificar</a>

                <form action="/admin/eliminar_estudiante/{{ est[0] }}" method="POST">
                    <button type="submit" class="btn btn-delete">Retirar</button>
                </form>
            </div>
            {% endif %}
        </article>
        {% endfor %}
    </section>


    <section class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Documento</th>
                    <th>Nombre</th>
                    <th>Fecha Nac.</th>
                    <th>Grado</th>
                    <th>Acudiente</th>
                    <th>Teléfono</th>
                    {%if rol =="administrador" or rol == "directivo"%}
                    <th>Acciones</th>
                    {% endif %}
                </tr>
            </thead>
            <tbody>
                {% for est in estudiantes %}
                <tr id="informacion">
                    <td id="documento">{{ est[0] }}</td>
                    <td>{{ est[1] }} {{ est[2] }}</td>
                    <td>{{ est[3] }}</td>
                    <td>{{ est[4] }}</td>
                    <td>{{ est[5] }} {{ est[6] }}</td>
                    <td>{{ est[7] }}</td>
                    <td class="table-actions">
                        {%if rol =="administrador" or rol == "directivo"%}
                        <a href="/admin/modificar_estudiante/{{ est[0] }}" class="edit-table">Modificar</a>
                        <form action="/admin/eliminar_estudiante/{{ est[0] }}" method="POST">
                            <button type="submit" class="delete-table">Retirar</button>
                        </form>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="../static/js/estudiantes.js"></script>

</body>
</html>
